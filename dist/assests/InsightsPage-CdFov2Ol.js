import{u as g,b as p,j as e,m as n}from"./index-4TWX89ZD.js";import{M as h}from"./MoodChart-DrMfC5bb.js";const y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}},exit:{opacity:0,y:-20,transition:{duration:.3}}},l=()=>e.jsxs("div",{className:"bg-white dark:bg-dark-surface p-6 rounded-xl shadow-md border border-gray-200 dark:border-dark-border animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-2/3 mx-auto"}),e.jsx("div",{className:"h-10 bg-gray-300 dark:bg-gray-600 rounded w-1/3 mx-auto my-3"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mx-auto"})]}),u=s=>{const t=s.toLowerCase(),o={joy:"😊",happiness:"😊",optimism:"😊",happy:"😊",sadness:"😢",grief:"😢",sad:"😢",anger:"😠",frustration:"😠",angry:"😠",fear:"😨",anxiety:"😨",stress:"😨",worried:"😨",surprise:"😮",surprised:"😮",love:"❤️",calm:"😌",relaxed:"😌",contentment:"😌",peaceful:"😌"};for(const d in o)if(t.includes(d))return o[d];return"🤔"},j=()=>{var c,m;const{entries:s,isFetching:t}=g(),{openModal:o}=p(),d=(m=(c=s.find(r=>{var a;return(a=r.analysis)==null?void 0:a.affirmation}))==null?void 0:c.analysis)==null?void 0:m.affirmation,x=s.flatMap(r=>{var a;return((a=r.analysis)==null?void 0:a.emotions)||[]}).reduce((r,a)=>{const i=r.find(b=>b.emotion.toLowerCase()===a.emotion.toLowerCase());return i?(i.score+=a.score,i.count+=1):r.push({...a,count:1}),r},[]).map(r=>({...r,average:Math.round(r.score/r.count)})).sort((r,a)=>a.average-r.average).slice(0,5);return e.jsxs(n.div,{className:"max-w-6xl mx-auto",variants:y,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-text-primary dark:text-dark-text-primary",children:"Your Emotional Insights"}),e.jsx("p",{className:"text-lg text-text-secondary dark:text-dark-text-secondary mt-2",children:"Discover patterns and trends in your well-being journey."})]}),t?e.jsxs("div",{className:"mb-8 bg-white dark:bg-dark-surface p-6 rounded-xl shadow-md animate-pulse",children:[e.jsx("div",{className:"h-6 w-1/3 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 w-2/3 bg-gray-200 dark:bg-gray-700 rounded"})]}):d&&e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"bg-white dark:bg-dark-surface p-6 rounded-xl shadow-md border border-gray-200 dark:border-dark-border flex items-center space-x-4",children:[e.jsx("i",{className:"fas fa-lightbulb-on text-4xl text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-text-primary dark:text-dark-text-primary",children:"Today's Focus"}),e.jsx("p",{className:"text-text-secondary dark:text-dark-text-secondary mt-1 text-lg",children:d})]})]})}),e.jsxs("section",{className:"mb-12","data-tour":"mood-chart",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary dark:text-dark-text-primary mb-4",children:"Mood Over Time"}),t?e.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white dark:bg-dark-surface rounded-xl shadow-md border-2 border-dashed border-gray-300 dark:border-dark-border p-4 text-center animate-pulse",children:[e.jsx("div",{className:"h-8 w-1/2 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),e.jsx("div",{className:"h-56 w-full bg-gray-200 dark:bg-gray-700 rounded"})]}):e.jsx(h,{entries:s})]}),e.jsxs("section",{"data-tour":"common-emotions",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary dark:text-dark-text-primary mb-4",children:"Common Emotions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[t?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsx(l,{}),e.jsx(l,{})]}):x.length>0?x.map(r=>e.jsxs(n.div,{className:"bg-white dark:bg-dark-surface p-6 rounded-xl shadow-md border border-gray-200 dark:border-dark-border text-center",whileHover:{scale:1.05,y:-5,boxShadow:"0px 8px 16px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:300},children:[e.jsxs("h3",{className:"text-xl font-semibold text-brand-dark dark:text-brand-primary capitalize flex items-center justify-center space-x-2",children:[e.jsx("span",{children:u(r.emotion)}),e.jsx("span",{children:r.emotion})]}),e.jsxs("p",{className:"text-4xl font-bold text-text-primary dark:text-dark-text-primary my-2",children:[r.average,"%"]}),e.jsx("p",{className:"text-text-secondary dark:text-dark-text-secondary",children:"Average Intensity"})]},r.emotion)):!t&&e.jsx("p",{className:"text-text-secondary dark:text-dark-text-secondary col-span-full text-center py-10",children:"No emotion data available yet. Keep journaling!"}),e.jsxs(n.div,{className:"bg-brand-light dark:bg-dark-surface p-6 rounded-xl border-2 border-dashed border-brand-primary dark:border-brand-primary flex flex-col items-center justify-center text-center group",whileHover:{scale:1.05,y:-5,boxShadow:"0px 8px 16px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:300},children:[e.jsx("i",{className:"fas fa-sparkles text-brand-dark dark:text-brand-primary text-3xl mb-3 transition-transform duration-300 group-hover:scale-125"}),e.jsx("h3",{className:"text-xl font-semibold text-brand-dark dark:text-dark-text-primary",children:"Deeper Analysis"}),e.jsx("p",{className:"text-text-secondary dark:text-dark-text-secondary mt-1",children:"Unlock weekly reports with WellNest Premium."}),e.jsx(n.button,{onClick:()=>o("intaSend"),className:"mt-4 px-5 py-2 bg-brand-primary text-white font-semibold rounded-lg shadow-md hover:bg-brand-dark transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:"Upgrade Now"})]})]})]})]})};export{j as default};
