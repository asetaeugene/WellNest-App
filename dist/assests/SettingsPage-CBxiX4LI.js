import{b as g,a as u,u as k,r as j,j as e,m as o,S as w,c as N,d as v}from"./index-4TWX89ZD.js";import{M as S}from"./MoodChart-DrMfC5bb.js";const D={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}},exit:{opacity:0,y:-20,transition:{duration:.3}}},E=()=>{const{theme:d,toggleTheme:t}=N();return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-text-primary dark:text-dark-text-primary",children:"Appearance"}),e.jsx("p",{className:"text-text-secondary dark:text-dark-text-secondary",children:"Switch between light and dark themes."})]}),e.jsxs("div",{onClick:t,className:`flex items-center h-8 w-14 p-1 rounded-full cursor-pointer transition-colors ${d==="dark"?"bg-brand-primary justify-end":"bg-gray-300 justify-start"}`,children:[e.jsx("span",{className:"sr-only",children:"Toggle Theme"}),e.jsx(o.span,{className:"w-6 h-6 bg-white rounded-full shadow-md flex items-center justify-center",layout:!0,transition:{type:"spring",stiffness:700,damping:30},children:d==="dark"?e.jsx("i",{className:"fas fa-moon text-brand-primary"}):e.jsx("i",{className:"fas fa-sun text-yellow-500"})})]})]})},T=()=>{const{openModal:d}=g(),{user:t}=u(),{entries:m}=k(),[h,n]=j.useState(!1),b=async()=>{n(!0);const{jsPDF:p}=jspdf,i=new p("p","pt","a4"),r=document.createElement("div");r.style.position="absolute",r.style.left="-9999px",r.style.width="595px";let l=`
            <div style="font-family: sans-serif; color: #333; padding: 20px;">
                <h1 style="font-size: 24px;">WellNest Journal Export</h1>
                <p style="font-size: 12px; color: #666;">User: ${t==null?void 0:t.name} (${t==null?void 0:t.email})</p>
                <p style="font-size: 12px; color: #666;">Export Date: ${new Date().toLocaleDateString()}</p>
                <hr style="margin: 20px 0;" />
        `;m.forEach(s=>{l+=`
                <div style="margin-bottom: 20px; page-break-inside: avoid;">
                    <h2 style="font-size: 16px; font-weight: bold;">${new Date(s.date).toLocaleString()}</h2>
                    <p style="white-space: pre-wrap; margin-top: 5px; font-size: 12px;">${s.content}</p>
                    ${s.analysis?`
                        <div style="background-color: #f3f4f6; padding: 10px; margin-top: 10px;">
                           <p style="font-style: italic; font-size: 12px;"><strong>Summary:</strong> "${s.analysis.summary}"</p>
                        </div>
                    `:""}
                </div>
            `}),l+="</div>",r.innerHTML=l,document.body.appendChild(r),await html2canvas(r,{scale:2}).then(s=>{const a=s.toDataURL("image/png"),c=i.internal.pageSize.getWidth(),x=s.height*c/s.width;i.addImage(a,"PNG",0,0,c,x),i.save(`WellNest_Journal_Export_${new Date().toISOString().split("T")[0]}.pdf`)}),document.body.removeChild(r),n(!1)},f=async()=>{if(!(t!=null&&t.isPremium))return;n(!0);const{jsPDF:p}=jspdf,i=new p("p","pt","a4"),r=document.createElement("div");r.style.position="absolute",r.style.left="-9999px",r.style.width="595px",document.body.appendChild(r);const l=()=>e.jsxs("div",{style:{fontFamily:"sans-serif",color:"#333",padding:"20px",width:"595px",backgroundColor:"white"},children:[e.jsx("h1",{style:{fontSize:"24px",color:"#065F46",borderBottom:"2px solid #34D399",paddingBottom:"10px"},children:"WellNest Visual Report"}),e.jsxs("p",{style:{fontSize:"12px",color:"#666"},children:["User: $",t==null?void 0:t.name," ($",t==null?void 0:t.email,")"]}),e.jsxs("p",{style:{fontSize:"12px",color:"#666"},children:["Export Date: $",new Date().toLocaleDateString()]}),e.jsx("hr",{style:{margin:"20px 0",borderColor:"#e5e7eb"}}),e.jsx("h2",{style:{fontSize:"18px",color:"#065F46",marginBottom:"10px"},children:"Mood Over Time"}),e.jsx("div",{style:{height:"300px",marginBottom:"20px",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"10px"},children:e.jsx(S,{entries:m})}),e.jsx("hr",{style:{margin:"20px 0",borderColor:"#e5e7eb"}}),e.jsx("h2",{style:{fontSize:"18px",color:"#065F46",marginBottom:"10px"},children:"Journal Entries"}),m.map(a=>e.jsxs("div",{style:{marginBottom:"20px",pageBreakInside:"avoid"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#065F46"},children:new Date(a.date).toLocaleString()}),e.jsx("p",{style:{whiteSpace:"pre-wrap",marginTop:"5px",fontSize:"12px",lineHeight:"1.6"},children:a.content}),a.analysis&&e.jsxs("div",{style:{backgroundColor:"#ECFDF5",borderLeft:"3px solid #34D399",padding:"10px",margin:"10px 0",borderRadius:"4px"},children:[e.jsxs("p",{style:{fontStyle:"italic",fontSize:"12px",marginBottom:"5px"},children:[e.jsx("strong",{children:"Sentiment:"})," ",a.analysis.overallSentiment]}),e.jsxs("p",{style:{fontStyle:"italic",fontSize:"12px"},children:[e.jsx("strong",{children:"Summary:"}),' "',a.analysis.summary,'"']})]})]},a.id))]}),s=v.createRoot(r);s.render(e.jsx(l,{})),await new Promise(a=>setTimeout(a,2e3)),await html2canvas(r,{scale:2,useCORS:!0,backgroundColor:"#ffffff"}).then(a=>{const c=a.toDataURL("image/png"),x=i.internal.pageSize.getWidth(),y=a.height*x/a.width;i.addImage(c,"PNG",0,0,x,y),i.save(`WellNest_Visual_Report_${new Date().toISOString().split("T")[0]}.pdf`)}),s.unmount(),document.body.removeChild(r),n(!1)};return e.jsxs(o.div,{className:"max-w-4xl mx-auto",variants:D,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-text-primary dark:text-dark-text-primary",children:"Settings"}),e.jsx("p",{className:"text-lg text-text-secondary dark:text-dark-text-secondary mt-2",children:"Manage your account and preferences."})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-text-primary dark:text-dark-text-primary border-b dark:border-dark-border pb-2 mb-4",children:"Account"}),e.jsxs("div",{className:"bg-white dark:bg-dark-surface p-6 rounded-xl shadow-md border border-gray-200 dark:border-dark-border space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary dark:text-dark-text-secondary",children:"Name"}),e.jsx("input",{type:"text",value:t==null?void 0:t.name,disabled:!0,className:"mt-1 block w-full bg-gray-100 dark:bg-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary dark:text-dark-text-secondary",children:"Email"}),e.jsx("input",{type:"email",value:t==null?void 0:t.email,disabled:!0,className:"mt-1 block w-full bg-gray-100 dark:bg-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2"})]}),e.jsx(o.button,{onClick:()=>d("editProfile"),"data-tour":"edit-profile-button",className:"px-5 py-2 border border-transparent text-base font-medium rounded-md text-white bg-brand-primary hover:bg-brand-dark transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Edit Profile"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-text-primary dark:text-dark-text-primary border-b dark:border-dark-border pb-2 mb-4",children:"Theme"}),e.jsx("div",{className:"bg-white dark:bg-dark-surface p-6 rounded-xl shadow-md border border-gray-200 dark:border-dark-border",children:e.jsx(E,{})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-text-primary dark:text-dark-text-primary border-b dark:border-dark-border pb-2 mb-4",children:"WellNest Premium"}),e.jsxs("div",{className:"bg-gradient-to-r from-brand-dark to-brand-primary p-8 rounded-xl shadow-lg text-white text-center overflow-hidden relative",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full"}),e.jsx("div",{className:"absolute -bottom-12 -left-8 w-40 h-40 bg-white/10 rounded-full"}),e.jsx("h3",{className:"text-3xl font-bold",children:"Unlock Your Full Potential"}),e.jsx("p",{className:"mt-2 text-lg opacity-90",children:"Get deeper insights, unlimited history, and more."}),e.jsxs("ul",{className:"mt-6 space-y-2 text-left inline-block",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-check-circle mr-3"})," Detailed Trend Reports"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-check-circle mr-3"})," Unlimited Journal History"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-check-circle mr-3"})," Personalized Mood-Based Tips"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-check-circle mr-3"})," Export Journal with Graphs"]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(o.button,{onClick:()=>d("intaSend"),className:"px-10 py-4 bg-white text-brand-dark font-bold text-lg rounded-lg shadow-xl",whileHover:{scale:1.05,boxShadow:"0px 10px 20px rgba(0,0,0,0.2)"},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:15},children:"Upgrade to Premium"})})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-text-primary dark:text-dark-text-primary border-b dark:border-dark-border pb-2 mb-4",children:"Data & Feedback"}),e.jsxs("div",{className:"bg-white dark:bg-dark-surface p-6 rounded-xl shadow-md border border-gray-200 dark:border-dark-border",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-medium text-text-primary dark:text-dark-text-primary",children:"Export Your Data"}),e.jsx("p",{className:"text-text-secondary dark:text-dark-text-secondary",children:"Download all your journal entries in a PDF file."})]}),e.jsx(o.button,{onClick:()=>d("export",{handleRawExport:b,handleVisualExport:f}),disabled:h,"data-tour":"export-data-button",className:"w-full sm:w-36 flex justify-center px-5 py-2 border border-gray-300 dark:border-dark-border text-base font-medium rounded-md text-text-primary dark:text-dark-text-primary bg-white dark:bg-dark-surface hover:bg-gray-50 dark:hover:bg-dark-border transition-colors disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:h?e.jsx(w,{size:"5"}):"Export Data"})]}),e.jsx("hr",{className:"my-4 dark:border-dark-border"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-medium text-text-primary dark:text-dark-text-primary",children:"Have Feedback?"}),e.jsx("p",{className:"text-text-secondary dark:text-dark-text-secondary",children:"We'd love to hear your thoughts on WellNest."})]}),e.jsx(o.button,{onClick:()=>d("feedback"),className:"w-full sm:w-auto px-5 py-2 border border-gray-300 dark:border-dark-border text-base font-medium rounded-md text-text-primary dark:text-dark-text-primary bg-white dark:bg-dark-surface hover:bg-gray-50 dark:hover:bg-dark-border transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Give Feedback"})]})]})]})]})]})};export{T as default};
